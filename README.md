# OpenMosProm: Система автоматизации технической поддержки

**Команда:** DarkMode Team

Это бэкенд и основная точка входа для запуска всего комплекса, который включает в себя:
- **Backend API**: Основной сервер на FastAPI для обработки запросов.
- **ML API**: Сервис с ML-моделями для классификации и RAG.
- **Frontend**: Дашборд на React для мониторинга системы.
- **Celery Worker**: Фоновый обработчик ML-задач.
- И другие необходимые сервисы (PostgreSQL, Redis, ChromaDB).

---

## Требования

Перед началом убедитесь, что у вас установлены:
- [Git](https://git-scm.com/)
- [Docker](https://www.docker.com/products/docker-desktop/) и Docker Compose

---

## Быстрый старт

1.  **Склонируйте репозиторий:**
    ```bash
    git clone https://github.com/EstrNous/OpenMosProm.git
    cd ./OpenMosPro
    ```

2.  **Создайте файл `.env`:**  
    Скопируйте пример файла с переменными окружения.
    ```bash
    cp .env.example .env
    ```
    *По желанию:* Вы можете изменить модель в `.env` (`EMBED_MODEL_NAME=...large`) для улучшения качества RAG, но это потребует больше ресурсов.

3.  **Соберите и запустите все контейнеры:**
    ```bash
    docker compose up --build -d
    ```
    > ⚠️ **Первый запуск может быть долгим!** Docker будет скачивать базовые образы и тяжелые Python-библиотеки для ML. Пожалуйста, дождитесь завершения сборки.

---

## Проверка и использование

1.  **Убедитесь, что ML-воркер готов:**  
    Проверьте логи контейнера `openmosprom-celery-worker-1` (или похожего). Вы должны увидеть там строку, подтверждающую инициализацию.
    ```bash
    docker logs -f <имя_контейнера_celery-worker>
    ```
    Ищите сообщение: `Celery worker: сервисы инициализированы.`  
    Если его еще нет, значит, ML-модели все еще загружаются.

2.  **Откройте дашборд:**  
    Перейдите в браузере по адресу [http://localhost:3000/](http://localhost:3000/).

3.  **Запустите симуляцию:**  
    Нажмите на кнопку **«Запустить симуляцию»**, чтобы начать генерировать тестовые обращения и увидеть систему в действии.

---

## Остановка

Чтобы остановить все запущенные сервисы, выполните команду в корневой папке проекта:
```bash
docker compose down